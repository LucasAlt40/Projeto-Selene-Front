<div class="card">
  <p-carousel
    [value]="eventsHighlighted()"
    [numVisible]="1"
    [numScroll]="1"
    [circular]="true"
    [responsiveOptions]="responsiveOptions"
    autoplayInterval="3000"
  >
    <ng-template let-event #item>
      <img
        [src]="imagesBaseUrl + event.previewImageUrl"
        [alt]="event.title"
        class="w-full h-120 object-cover rounded"
      />
    </ng-template>
  </p-carousel>
</div>

@for (group of categorizedEvents(); track group.category) {
  @if (group.events.length > 0) {
    <section class="container mx-auto my-4">
      <h2 class="text-xl font-bold mb-4">{{ group.category }}</h2>

      <div class="flex gap-4 w-full overflow-x-auto">
        @for (event of group.events; track event.id) {
          <div
            class="p-3 flex-shrink-0 flex flex-col gap-3 rounded shadow min-w-[270px]"
          >
            <img
              [src]="imagesBaseUrl + event.previewImageUrl"
              [alt]="event.title"
              class="w-68 h-48 object-cover rounded mb-2"
            />
            <div>
              <h3 class="text-lg font-semibold">{{ event.title }}</h3>
              <p>{{ event.date | date: 'dd/MM/yyyy' }}</p>
            </div>
            <p-button
              icon="pi pi-info-circle"
              styleClass="p-button-outlined"
              label="Ver Detalhes"
              class="mt-2"
              [routerLink]="'/events/' + event.id"
            />
          </div>
        }
      </div>
    </section>
  }
}

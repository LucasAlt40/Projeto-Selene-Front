<main class="container mx-auto py-6">
  <div class="flex flex-col gap-4">
    <div class="flex justify-end">
      <p-button
        [routerLink]="['/admin/criar-evento']"
        icon="pi pi-plus"
        label="Cadastrar evento"
        styleClass="p-button-primary"
      />
    </div>

    <p-table
      [value]="events"
      [paginator]="true"
      [rows]="10"
      [totalRecords]="totalRecords"
      [lazy]="true"
      (onLazyLoad)="loadEvents($event)"
      (onPage)="loadEvents($event)"
      [loading]="loading"
      showGridlines
      stripedRows
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Id</th>
          <th>Título</th>
          <th>Descrição</th>
          <th>Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-event>
        <tr>
          <td>{{ event.id }}</td>
          <td>{{ event.title }}</td>
          <td>{{ event.description }}</td>
          <td>
            <p-button
              [routerLink]="['/admin/eventos', event.id]"
              [rounded]="true"
              [outlined]="true"
              icon="pi pi-pencil"
            />
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</main>
